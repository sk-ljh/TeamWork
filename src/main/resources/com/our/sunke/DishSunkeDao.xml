<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunke.dao.DishSunkeDao">
	<select id="reCate" resultType="java.lang.String">
		SELECT dishs_cate FROM dishs
		GROUP BY dishs_cate
	</select>
	
	<select id="getDishCount" resultType="java.lang.Integer">
       select count(*) from dishs where dishs_cate=#{dishCate}
    </select>
    <select id="listDishsAll" resultType="com.our.pojo.Dishs">
    select * from dishs where dishs_cate=#{cateName}
       LIMIT #{pageStart},#{pageSize}
    </select>
    <select id="rePlace" resultType="java.lang.String">
    SELECT table_cate FROM table_s
      group by table_cate
    </select>
    <select id="reNum" resultType="java.lang.Integer">
      SELECT table_number FROM table_s
      where table_cate=#{placeName}
    </select>
     <select id="reStatus" resultType="com.sunke.entity.TableStatus">
      SELECT table_status,table_number FROM table_s
    </select>
    <select id="getMaxId" resultType="java.lang.Integer">
    SELECT max(order_id) FROM order_history
    </select>
   <insert id="insertHistory">
       INSERT INTO order_history (`table_number`, `total_price`, `begin_time`, `payment_state`, `order_id`, `user_id`, `order_delete`)
        VALUES (#{body.table_number}, #{body.total_price}, #{body.begin_time}, #{body.payment_state}, #{body.order_id}, #{body.user_id}, #{body.order_delete});
    </insert>
     <insert id="insertDishList">
      INSERT INTO `order_list` (`dishs_id`, `dishs_name`, `number`, `price`, `cook_state`, `order_id`) 
      VALUES (#{body.dishs_id}, #{body.dishs_name}, #{body.number}, #{body.price}, #{body.cook_state}, #{body.order_id});
    </insert>
</mapper>