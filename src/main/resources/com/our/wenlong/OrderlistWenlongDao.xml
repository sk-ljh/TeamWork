<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wenlong.dao.OrderListWenlongDao">

	<!-- 配置查询结果集和DO对象的映射关系 -->
	<!-- <resultMap type="FileInfoDO" id="filemap"> <id column="file_id" property="fileId"/> 
		<result column="file_name" property="fileName"/> <result column="file_url" 
		property="fileUrl"/> </resultMap> -->

	<!-- 订单查询 -->
	<select id="listOrderList" resultType="com.our.pojo.Order_list">
		select * from order_list where cook_state!=3 order by cook_state desc, order_list_id asc
	</select>
	
	<!-- 部分订单查询 -->
	<select id="listOrderListByOrderId" resultType="com.our.pojo.Order_list" parameterType="int">
		select * from order_list where order_id = #{order_id} 
	</select>
	
	<!-- 单笔订单查询 -->
	<select id="getOrderList" resultType="com.our.pojo.Order_list" parameterType="int">
		select * from order_list where order_list_id = #{order_list_id}
	</select>
	
	<!-- 订单删除 -->
	<delete id="deleteOrderList" parameterType="int">
		delete from order_list where order_list_id = #{order_list_id}
	</delete>
	
	<!-- 更新订单状态 -->
	<update id="updateOrderList" parameterType="com.our.pojo.Order_list">
		update order_list set cook_state=#{cook_state} where order_list_id = #{order_list_id}
	</update>
	
	<insert id="insertOrderList" parameterType="com.our.pojo.Order_list">
		insert into order_list values(#{dishs_id},
									  #{dishs_name},
									  #{number},
									  #{price},
									  #{cook_state},
									  #{order_id},
									  #{order_list_id})
	</insert>
	
</mapper>